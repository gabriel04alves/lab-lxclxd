{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"In\u00edcio","text":"<p>Autores: Gabriel Alves, Gabriel L. Pereira, Maria Eduarda N. Ferreira</p> <p>Este laborat\u00f3rio apresenta, de forma pr\u00e1tica, como utilizar Linux Containers (LXC) e Linux Container Daemon (LXD). Voc\u00ea aprender\u00e1 a instalar, configurar e gerenciar containers, explorando suas principais vantagens e aplica\u00e7\u00f5es no dia a dia.</p> <p>\u26a0\ufe0f AVISO: Este guia foi elaborado para sistemas Linux. Em plataformas com outros kernels, \u00e9 necess\u00e1rio executar o Linux dentro de uma m\u00e1quina virtual.</p>"},{"location":"complements/","title":"Materiais complementares","text":""},{"location":"complements/#documentacao-oficial","title":"Documenta\u00e7\u00e3o Oficial","text":"<ul> <li>Documenta\u00e7\u00e3o LXC</li> <li>Manual de configura\u00e7\u00e3o LXC</li> <li>Documenta\u00e7\u00e3o LXD</li> <li>LXD no GitHub</li> </ul>"},{"location":"complements/#notas-importantes","title":"Notas Importantes","text":"<ul> <li>Suporte LXC 5.0 at\u00e9 1 de junho de 2027.</li> <li>Suporte LXC 4.0 at\u00e9 1 de junho de 2025.</li> <li>Linuxcontainers.org descontinuou suporte a LXC/LXD em mar\u00e7o de 2024; atualmente apenas Ubuntu fornece imagens.</li> </ul>"},{"location":"docker/","title":"Compara\u00e7\u00e3o com o Docker","text":""},{"location":"docker/#diferencas-funcionais","title":"Diferen\u00e7as funcionais","text":"<ul> <li>O Docker \u00e9 focado em executar aplica\u00e7\u00f5es isoladas (geralmente um processo por container);</li> <li>O LXC/LXD \u00e9 voltado para virtualiza\u00e7\u00e3o de sistemas operacionais completos (similar a VMs, mas mais leve);</li> <li>Containers LXD executam um sistema init completo e podem gerenciar m\u00faltiplos processos;</li> <li>Containers Docker s\u00e3o projetados para executar preferencialmente um \u00fanico processo;</li> <li>Testes de benchmarking mostram que o LXD supera o Docker em aplica\u00e7\u00f5es que dependem de largura de banda de mem\u00f3ria (Memory Bound);</li> <li>Em testes com o DBench, o LXD apresentou desempenho superior em at\u00e9 85% em compara\u00e7\u00e3o ao Docker para acesso simult\u00e2neo ao sistema de arquivos.</li> </ul>"},{"location":"docker/#limitacoes-observadas","title":"Limita\u00e7\u00f5es observadas","text":"<ul> <li>O Docker possui um processo de instala\u00e7\u00e3o mais simples, geralmente executando apenas um script;</li> <li>O LXD requer um processo de instala\u00e7\u00e3o e configura\u00e7\u00e3o mais minucioso;</li> <li>Para usu\u00e1rios acostumados com Docker, h\u00e1 um per\u00edodo de adapta\u00e7\u00e3o para entender o funcionamento e os comandos do LXD;</li> <li>A diferen\u00e7a de paradigma (aplica\u00e7\u00e3o vs. sistema) tamb\u00e9m requer uma mudan\u00e7a na forma de pensar a utiliza\u00e7\u00e3o dos cont\u00eaineres.</li> </ul>"},{"location":"end/","title":"Conclus\u00e3o","text":"<p>Atrav\u00e9s deste laborat\u00f3rio pr\u00e1tico, pudemos compreender a tecnologia LXC/LXD e suas particularidades. Aprendemos que o LXD oferece uma abordagem de virtualiza\u00e7\u00e3o mais completa que o Docker, sendo mais pr\u00f3xima de uma m\u00e1quina virtual tradicional, mas com a leveza dos cont\u00eaineres.</p> <p>Os testes pr\u00e1ticos nos permitiram verificar que o LXD apresenta vantagens significativas de desempenho em cen\u00e1rios espec\u00edficos, especialmente em aplica\u00e7\u00f5es que dependem intensamente da mem\u00f3ria e acesso ao sistema de arquivos. A experi\u00eancia de cria\u00e7\u00e3o e gerenciamento de cont\u00eaineres mostrou a versatilidade da ferramenta, permitindo a execu\u00e7\u00e3o de sistemas Linux completos de diferentes distribui\u00e7\u00f5es.</p> <p>Tamb\u00e9m constatamos que, embora tenha uma curva de aprendizado inicial um pouco mais acentuada que o Docker, o LXD oferece recursos poderosos que justificam o investimento no aprendizado, especialmente para casos de uso onde um sistema operacional completo \u00e9 necess\u00e1rio.</p> <p>Casos de uso pr\u00e1ticos do LXC/LXD:</p> <ol> <li> <p>Ambientes de desenvolvimento isolados: O LXD \u00e9 ideal para criar ambientes de desenvolvimento que reproduzem fielmente o ambiente de produ\u00e7\u00e3o, sem o overhead de m\u00e1quinas virtuais tradicionais;</p> </li> <li> <p>Laborat\u00f3rios did\u00e1ticos: Como demonstrado no estudo do CTISM, o LXD pode ser uma excelente solu\u00e7\u00e3o para laborat\u00f3rios virtuais em institui\u00e7\u00f5es de ensino, permitindo aos estudantes trabalharem em ambientes Linux completos de forma segura e isolada;</p> </li> <li> <p>Consolida\u00e7\u00e3o de servidores: Em ambientes empresariais, o LXD pode ser usado para consolidar m\u00faltiplos servidores f\u00edsicos em um \u00fanico host, reduzindo custos de hardware e energia;</p> </li> <li> <p>Testes de sistemas operacionais: A facilidade de criar cont\u00eaineres com diferentes distribui\u00e7\u00f5es Linux faz do LXD uma ferramenta valiosa para testar aplica\u00e7\u00f5es em diversos ambientes sem precisar de m\u00faltiplas m\u00e1quinas virtuais;</p> </li> <li> <p>Servi\u00e7os de acesso simult\u00e2neo: Com base nos resultados de benchmarking, o LXD seria a melhor op\u00e7\u00e3o para servi\u00e7os que exigem acesso simult\u00e2neo ao sistema de arquivos, como servidores web com alto tr\u00e1fego ou servi\u00e7os de banco de dados.</p> </li> </ol> <p>O LXC/LXD representa uma alternativa robusta ao Docker para casos de uso que necessitam de sistemas operacionais completos, oferecendo um equil\u00edbrio entre o isolamento e funcionalidade das m\u00e1quinas virtuais e a efici\u00eancia dos cont\u00eaineres.</p>"},{"location":"installation/","title":"Instala\u00e7\u00e3o","text":"<p>Focaremos apenas na instala\u00e7\u00e3o do LXD, que o orquestrador de containers. Embora o cliente de linha de comando se chame <code>lxc</code>, o que realmente gerenciamos e instalamos aqui \u00e9 o servidor LXD.</p> <p>Durante o uso do LXD, voc\u00ea ir\u00e1 utilizar a ferramenta de linha de comando chamada <code>lxc</code>. Apesar do nome, neste contexto o <code>lxc</code> \u00e9 apenas o cliente que se comunica com o servidor LXD, e n\u00e3o o conjunto de ferramentas LXC tradicional usado diretamente.</p> <p>Observa\u00e7\u00e3o: O LXC continua presente nos bastidores, \u00e9 ele que, junto com o kernel do Linux, realiza a cria\u00e7\u00e3o e o gerenciamento real dos cont\u00eaineres. O LXD apenas facilita a intera\u00e7\u00e3o, adicionando funcionalidades avan\u00e7adas como clustering, redes virtuais, armazenamento em pools e APIs REST.</p> <p></p>"},{"location":"installation/#ubuntu","title":"Ubuntu","text":"<ol> <li>Atualize o sistema e instale o Snapd (caso ainda n\u00e3o tenha):    <pre><code>sudo apt update\nsudo apt install snapd -y\n</code></pre></li> <li>Aguarde de 30 segundos a 2 minutos ap\u00f3s instalar o Snapd antes de prosseguir.</li> <li>Instale o LXD usando o Snap:    <pre><code>sudo snap install lxd\n</code></pre></li> <li>Siga para inicializa\u00e7\u00e3o do LXD.</li> </ol>"},{"location":"installation/#debian","title":"Debian","text":""},{"location":"installation/#instalacao-via-apt-sem-snap","title":"Instala\u00e7\u00e3o via APT (sem Snap)","text":"<ol> <li>Atualize o sistema:    <pre><code>sudo apt update\nsudo apt upgrade -y\n</code></pre></li> <li>Instale o LXD:    <pre><code>sudo apt install lxd -y\n</code></pre></li> <li>(Opcional) Instale suporte a ZFS, caso queira usar esse backend de armazenamento:</li> <li>Edite o <code>/etc/apt/sources.list</code> para incluir <code>contrib</code> nos reposit\u00f3rios.</li> <li>Atualize a lista de pacotes e instale o ZFS:      <pre><code>sudo apt update\nsudo apt install zfs-dkms -y\nsudo reboot\n</code></pre></li> <li>Siga para inicializa\u00e7\u00e3o do LXD.</li> </ol>"},{"location":"installation/#instalacao-via-snap-alternativa","title":"Instala\u00e7\u00e3o via Snap (alternativa)","text":"<ol> <li>Instale o Snapd (caso n\u00e3o tenha rodado o passo de APT):    <pre><code>sudo apt install snapd -y\n</code></pre></li> <li>Aguarde de 30 segundos a 2 minutos ap\u00f3s instalar o Snapd antes de prosseguir.</li> <li>Instale o LXD via Snap:    <pre><code>sudo snap install lxd\n</code></pre></li> <li>Siga para inicializa\u00e7\u00e3o do LXD.</li> </ol>"},{"location":"installation/#fedora","title":"Fedora","text":"<ol> <li>Instale o Snapd:    <pre><code>sudo dnf install snapd -y\nsudo systemctl enable --now snapd.socket\nsudo ln -s /var/lib/snapd/snap /snap\n</code></pre></li> <li>Aguarde de 30 segundos a 2 minutos ap\u00f3s instalar o Snapd antes de prosseguir.</li> <li>Instale o LXD via Snap:    <pre><code>sudo snap install lxd\n</code></pre></li> <li>(Opcional) Verifique o status dos servi\u00e7os do LXD:    <pre><code>sudo snap services lxd\n</code></pre></li> <li>Inicialize o LXD:    <pre><code>lxd init\n</code></pre> <p>Para gerenciar o LXD sem <code>sudo</code>, consulte a se\u00e7\u00e3o permiss\u00f5es de usu\u00e1rio.</p> </li> <li>Siga para inicializa\u00e7\u00e3o do LXD.</li> </ol>"},{"location":"installation/#manjaro","title":"Manjaro","text":"<ol> <li>Atualize o sistema e sincronize os reposit\u00f3rios:    <pre><code>sudo pacman -Syu\n</code></pre></li> <li>Instale o LXD:    <pre><code>sudo pacman -S lxd\n</code></pre></li> <li>(Opcional) Instale suporte a ZFS, caso queira usar esse backend:    <pre><code>sudo pacman -S zfs-utils\nsudo systemctl enable --now zfs-import-cache zfs-mount\n</code></pre></li> <li>Habilite e inicie o servi\u00e7o do LXD:    <pre><code>sudo systemctl enable --now lxd.service lxd.socket\n</code></pre></li> <li>Siga para: Inicializa\u00e7\u00e3o do LXD.</li> </ol>"},{"location":"installation/#centos","title":"CentOS","text":"<ol> <li>Instale o Snapd:    <pre><code>sudo dnf update -y\nsudo dnf install snapd -y\nsudo systemctl enable --now snapd.socket\nsudo ln -s /var/lib/snapd/snap /snap\n</code></pre></li> <li>Aguarde de 30 segundos a 2 minutos ap\u00f3s instalar o Snapd antes de prosseguir.</li> <li>Instale o LXD via Snap:    <pre><code>sudo snap install lxd\n</code></pre></li> <li>Siga para inicializa\u00e7\u00e3o do LXD.</li> </ol>"},{"location":"installation/#inicializacao-do-lxd","title":"Inicializa\u00e7\u00e3o do LXD","text":"<ol> <li>Execute:</li> </ol> <pre><code>sudo lxd init\n</code></pre> <p>Para gerenciar o LXD sem sudo, consulte a se\u00e7\u00e3o Permiss\u00f5es de usu\u00e1rio.</p> <p>Durante a instala\u00e7\u00e3o, responda:</p> <ul> <li> <p>Would you like to use LXD clustering? (yes/no) [default=no]   Responda <code>no</code> se n\u00e3o for usar m\u00faltiplos servidores LXD.</p> </li> <li> <p>Do you want to configure a new storage pool? (yes/no) [default=yes]   Responda <code>yes</code> para criar um novo pool. Name of the new storage pool [default=default]:   Exemplo: <code>default</code> ou <code>rpool</code> Name of the storage backend to use (lvm, btrfs, ceph, dir, etc) [default=btrfs]:   Exemplo: <code>btrfs</code> (ou <code>zfs</code>, <code>dir</code>, etc)</p> </li> <li> <p>Would you like to connect to a MAAS server? (yes/no) [default=no]   Responda <code>no</code>.</p> </li> <li> <p>Would you like to create a new local network bridge? (yes/no) [default=yes]   Responda <code>yes</code>. What should the new bridge be called? [default=lxdbr0]:   Exemplo: <code>lxdbr0</code> What IPv4 address should be used? (CIDR subnet notation, \u201cauto\u201d or \u201cnone\u201d) [default=auto]:   Responda <code>auto</code> What IPv6 address should be used? (CIDR subnet notation, \u201cauto\u201d or \u201cnone\u201d) [default=auto]:   Responda <code>none</code></p> </li> <li> <p>Would you like the LXD server to be available over the network? (yes/no) [default=no]   Responda <code>no</code>.</p> </li> <li> <p>Would you like stale cached images to be updated automatically? (yes/no) [default=yes]   Responda <code>yes</code>.</p> </li> <li> <p>Would you like a YAML \"lxd init\" preseed to be printed? (yes/no) [default=no]   Responda <code>no</code>.</p> </li> </ul>"},{"location":"installation/#permissoes-de-usuario","title":"Permiss\u00f5es de usu\u00e1rio","text":"<p>Para gerenciar cont\u00eaineres sem usar <code>sudo</code>, adicione o seu usu\u00e1rio ao grupo <code>lxd</code> e aplique as novas permiss\u00f5es:</p> <pre><code>sudo usermod -aG lxd $USER\nnewgrp lxd\n</code></pre>"},{"location":"introduction/","title":"Introdu\u00e7\u00e3o","text":"<p>O LXC (Linux Containers) \u00e9 uma tecnologia de virtualiza\u00e7\u00e3o em n\u00edvel de sistema operacional que permite a execu\u00e7\u00e3o de m\u00faltiplos ambientes Linux isolados em um \u00fanico host. Diferentemente das m\u00e1quinas virtuais tradicionais, o LXC compartilha o kernel do sistema hospedeiro, resultando em uma virtualiza\u00e7\u00e3o mais leve e eficiente.</p> <p>O LXD (Linux Container Daemon), por sua vez, \u00e9 uma camada de gerenciamento desenvolvida pela Canonical (empresa respons\u00e1vel pelo Ubuntu) que aprimora e expande as funcionalidades do LXC. O LXD funciona como um daemon que gerencia os cont\u00eaineres, enquanto o LXC atua como o cliente. Esta arquitetura torna o sistema mais adequado para ambientes de produ\u00e7\u00e3o, oferecendo recursos avan\u00e7ados como isolamento de recursos, migra\u00e7\u00e3o de cont\u00eaineres, snapshots e backups.</p> <p>A hist\u00f3ria do uso de cont\u00eaineres come\u00e7a com o conceito de virtualiza\u00e7\u00e3o nos anos 1960, mas foi apenas em 2001 que surgiu a primeira solu\u00e7\u00e3o robusta de cont\u00eainer, o Jails, no FreeBSD. Em 2008, o Linux passou a incluir a tecnologia LXC por padr\u00e3o no Kernel. Posteriormente, em 2013, foi criado o Docker como uma camada sobre o LXC, e a Canonical lan\u00e7ou o LXD como sua solu\u00e7\u00e3o pr\u00f3pria de cont\u00eainer.</p> <p></p> <p>Ilustra\u00e7\u00e3o obtida do v\u00eddeo: Intro to Virtual Machines With LXD on Linux </p>"},{"location":"prerequisites/","title":"Pr\u00e9 requisitos","text":"<p>Para garantir que a instala\u00e7\u00e3o ocorra corretamente, verifique os itens antes de prosseguir:</p>"},{"location":"prerequisites/#sistema-operacional","title":"Sistema Operacional:","text":"<ul> <li>Kernel Linux 4.18 ou superior</li> <li>Vers\u00f5es LTS recomendadas: Ubuntu 18.04+, Debian 10+, Fedora 31+.</li> <li>Arquitetura x86_64 com VT-x/AMD-V habilitado no BIOS/UEFI.</li> <li>Outras distribui\u00e7\u00f5es: adapte o gerenciador de pacotes (zypper, pacman etc.).</li> </ul>"},{"location":"prerequisites/#hardware","title":"Hardware:","text":"<ul> <li>CPU: \u2265 2 n\u00facleos (\u2265 4 n\u00facleos recomendados em ambientes de produ\u00e7\u00e3o).</li> <li>Mem\u00f3ria RAM: \u2265 2 GB (\u2265 4 GB para m\u00faltiplos containers).</li> <li>Armazenamento: \u2265 20 GB livres (reserve espa\u00e7o extra para imagens, snapshots e volumes).</li> </ul>"},{"location":"refs/","title":"Refer\u00eancias","text":"<ol> <li>Rizzetti, B. (2015). Virtualiza\u00e7\u00e3o com LXC e LXD. Universidade Federal de Santa Maria (UFSM). Dispon\u00edvel em: ufsm.br</li> <li>Valiante, A. Microtutorial de Containers LXC/LXD. Dispon\u00edvel em: prof.valiante.info</li> <li>Souza, L. (2018). Iniciando os trabalhos com LXD. Dispon\u00edvel em: luizsouza.com</li> <li>Tech4U. LXC: Criar o primeiro container. Dispon\u00edvel em: tech.4u.pt</li> <li>Henrique, G. LXD Linux Container: como alternativa ao Docker. Dispon\u00edvel em: tabnews.com.br</li> <li>Napoleon. O que \u00e9 LXD/LXC com suporte estendido. Dispon\u00edvel em: napoleon.com.br</li> <li>Ubuntu Documentation. First Steps with LXD. Dispon\u00edvel em: documentation.ubuntu.com</li> <li>Ubuntu Blog. LXD vs Docker. Dispon\u00edvel em: ubuntu.com</li> <li>Ubuntu Tutorials. How to Setup a Basic LXD Cluster. Dispon\u00edvel em: ubuntu.com</li> <li>Zabbix. LXC Integration. Dispon\u00edvel em: zabbix.com</li> <li>Funtoo Wiki. LXD (Portugu\u00eas). Dispon\u00edvel em: funtoo.org</li> <li>Ubunlog. Introdu\u00e7\u00e3o \u00e0 instala\u00e7\u00e3o de containers LXD. Dispon\u00edvel em: ubunlog.com</li> <li>Hostnet. Linux Containers (LXC): o que \u00e9 e quais as suas vantagens. Dispon\u00edvel em: hostnet.com.br</li> <li>Pure Storage. LXC vs LXD: Linux Containers Demystified. Dispon\u00edvel em: purestorage.com</li> <li>Livraria Cultura. Practical LXC and LXD. Dispon\u00edvel em: livrariacultura.com.br</li> <li>Reddit. LXD/LXC is such a great technology, why isn\u2019t it more popular? Dispon\u00edvel em: reddit.com</li> <li>Unicamp. William, L. Guia de LXD. Dispon\u00edvel em: unicamp.br</li> <li>SBC \u2013 ERBASE. Artigo sobre LXD. Dispon\u00edvel em: sol.sbc.org.br</li> <li>SBC \u2013 ERRC. Uso de containers em ambientes acad\u00eamicos. Dispon\u00edvel em: sol.sbc.org.br</li> </ol>"},{"location":"run/","title":"Execu\u00e7\u00e3o de um container","text":"<p>Vamos explorar as opera\u00e7\u00f5es b\u00e1sicas de cria\u00e7\u00e3o, gerenciamento e configura\u00e7\u00e3o de containers. Cobriremos desde a instala\u00e7\u00e3o de um container Ubuntu at\u00e9 o controle do seu ciclo de vida, execu\u00e7\u00e3o de comandos, testes com uma aplica\u00e7\u00e3o web simples e utiliza\u00e7\u00e3o de imagens de diferentes fontes.</p>"},{"location":"run/#criacao-de-um-container-ubuntu","title":"Cria\u00e7\u00e3o de um container Ubuntu","text":"<p>Para criar um container Ubuntu padr\u00e3o:</p> <pre><code>lxc launch ubuntu: meu-container\n</code></pre> <ul> <li><code>launch</code>: Comando para criar e iniciar um novo container</li> <li><code>ubuntu:</code>: Especifica a imagem a ser usada (neste caso, a vers\u00e3o mais recente do Ubuntu)</li> <li><code>meu-container</code>: Nome personalizado para o container</li> </ul> <p>Ao executar este comando pela primeira vez, o sistema baixar\u00e1 a imagem do Ubuntu, o que pode levar alguns minutos dependendo da sua conex\u00e3o.</p>"},{"location":"run/#listar-containers","title":"Listar containers","text":"<p>Para visualizar todos os containers criados:</p> <pre><code>lxc list\n</code></pre> <p>Sa\u00edda esperada:</p> <pre><code>+---------------+---------+---------------------+------+------------+-----------+\n|     NAME      |  STATE  |        IPV4         | IPV6 |    TYPE    | SNAPSHOTS |\n+---------------+---------+---------------------+------+------------+-----------+\n| meu-container | RUNNING | 10.103.53.1 (eth0)  |      | PERSISTENT | 0         |\n+---------------+---------+---------------------+------+------------+-----------+\n</code></pre> <p>Esta sa\u00edda mostra o nome do container, seu estado atual, endere\u00e7o IP, tipo e informa\u00e7\u00f5es sobre snapshots.</p>"},{"location":"run/#executar-comandos-em-um-container","title":"Executar comandos em um container","text":"<p>Para executar um comando dentro do container:</p> <pre><code>lxc exec meu-container -- [comando]\n</code></pre> <p>Por exemplo, para verificar a vers\u00e3o do sistema operacional no container:</p> <pre><code>lxc exec meu-container -- cat /etc/os-release\n</code></pre> <ul> <li><code>exec</code>: Executa um comando dentro do container</li> <li><code>meu-container</code>: Nome do container alvo</li> <li><code>--</code>: Separador que indica o in\u00edcio do comando a ser executado no container</li> <li><code>[comando]</code>: O comando que ser\u00e1 executado dentro do container</li> </ul>"},{"location":"run/#acessar-o-shell-do-container","title":"Acessar o shell do container","text":"<p>Para obter acesso shell do container:</p> <pre><code>lxc exec meu-container -- bash\n</code></pre> <p>Use <code>exit</code> para sair do shell do container.</p>"},{"location":"run/#controle-do-ciclo-de-vida-do-container","title":"Controle do ciclo de vida do container","text":"<ul> <li>Parar um container:</li> </ul> <pre><code>lxc stop meu-container\n</code></pre> <ul> <li>Iniciar um container:</li> </ul> <pre><code>lxc start meu-container\n</code></pre> <ul> <li>Excluir um container:</li> </ul> <pre><code>lxc delete meu-container\n</code></pre> <p>Para excluir um container em execu\u00e7\u00e3o, adicione a flag <code>--force</code>:</p> <pre><code>lxc delete meu-container --force\n</code></pre>"},{"location":"run/#testando-com-uma-aplicacao-web-simples","title":"Testando com uma aplica\u00e7\u00e3o web simples","text":"<ol> <li>Atualizar reposit\u00f3rios e instalar o Nginx    <pre><code>lxc exec meu-container -- apt update\nlxc exec meu-container -- apt install -y nginx\n</code></pre></li> <li>Configurar o DNS do servidor lxd:    <pre><code> lxc exec meu-container -- sh -c 'echo \"nameserver 8.8.8.8\" &gt; /etc/resolv.conf'\n</code></pre></li> <li>Verificar servi\u00e7o no container    <pre><code>lxc exec meu-container -- systemctl status nginx\n</code></pre>    Sa\u00edda esperada:    <pre><code>nginx.service - A high performance web server and a reverse proxy server\n   Loaded: loaded (/lib/systemd/system/nginx.service; enabled)\n   Active: active (running) since ...\n</code></pre></li> <li>Testar localmente dentro do container    <pre><code>lxc exec meu-container -- curl -I http://localhost\n</code></pre>    Sa\u00edda esperada:    <pre><code>HTTP/1.1 200 OK\nServer: nginx/1.18.0 (Ubuntu)\n</code></pre></li> <li>Descobrir o IP do container    <pre><code>lxc list meu-container -c4 --format=csv\n</code></pre>    Isso retorna algo como <code>10.103.53.1</code>.</li> <li>Expor o servidor Nginx    <pre><code>lxc config device add meu-container nginx-port80 proxy listen=tcp:0.0.0.0:8081 connect=tcp:127.0.0.1:80\n</code></pre></li> <li>Acessar o servidor web a partir do host    No seu host, abra um navegador ou use <code>curl</code>:    <pre><code>curl http://localhost:8081\n</code></pre>    Voc\u00ea dever\u00e1 ver o HTML padr\u00e3o do Nginx (\u201cWelcome to nginx!\u201d).</li> </ol>"},{"location":"run/#criar-containers-de-outras-distribuicoes","title":"Criar containers de outras distribui\u00e7\u00f5es","text":"<p>Para listar as imagens dispon\u00edveis no servidor oficial:</p> <pre><code>lxc image list images:\n</code></pre> <p>Para filtrar por uma distribui\u00e7\u00e3o espec\u00edfica:</p> <pre><code>lxc image list images: | grep centos\n</code></pre> <p>Para criar um container CentOS 7:</p> <pre><code>lxc launch images:centos/7 meu-centos\n</code></pre> <ul> <li><code>images:centos/7</code>: Especifica a imagem do CentOS 7 do reposit\u00f3rio remoto \"images\"</li> <li><code>meu-centos</code>: Nome personalizado para o container</li> </ul>"},{"location":"run/#outras-fontes-de-imagens-lxclxd","title":"Outras Fontes de Imagens LXC/LXD","text":"<p>Al\u00e9m do reposit\u00f3rio padr\u00e3o <code>ubuntu:</code> e <code>images:</code>, voc\u00ea pode usar outras fontes de imagens:</p> <ul> <li>suse: imagens oficiais da SUSE Enterprise</li> </ul> <pre><code>lxc image list images:suse/15.2\nlxc launch images:suse/15.2 meu-suse\n</code></pre> <ul> <li>snapshots e mirrors privados: voc\u00ea mesmo pode hospedar um LXD Image Server e adicionar como remoto</li> </ul> <pre><code>lxc remote add meu-servidor https://meu-lxd-images.local\nlxc image list meu-servidor:\n</code></pre> <ul> <li>Registro Docker Hub (via importa\u00e7\u00e3o): caso queira converter uma imagem Docker em LXD   <pre><code>lxc image import docker://nginx --alias nginx-docker\nlxc launch nginx-docker meu-nginx-docker\n</code></pre></li> </ul>"}]}